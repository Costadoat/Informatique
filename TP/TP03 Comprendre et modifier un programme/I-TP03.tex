\input{intro}
\input{../../Header_Willie}



\begin{document}

\begin{center}
{\Large\bf TP \no {\num} -- \descrip}
\end{center}

\SetKw{KwFrom}{de} 



\begin{exercice}Assigner une valeur \` a une variable.\\
Au départ, on a assigné à deux variables les valeurs suivantes :
\begin{minted}[]{python}
a=2
b=3
\end{minted}
L'objectif est d'échanger les valeurs des deux variables. Pour chaque exemple, pr\' edire la valeur finale de chaques variables et v\' erifier avec Python.
\begin{center}
\begin{tabular}{c|c|c|c|c}
\begin{minipage}{2.5cm}
\begin{minted}[]{python}
a=b
b=a 
\end{minted}
\end{minipage}
&
\begin{minipage}{2.5cm}
\begin{minted}[]{python}
a+3=b
\end{minted}
\end{minipage}
&
\begin{minipage}{2.5cm}
\begin{minted}[]{python}
a=x
a=b
b=x
\end{minted}
\end{minipage}
&
\begin{minipage}{2.5cm}
\begin{minted}[]{python}
x=a
a=b
b=x
\end{minted}
\end{minipage}
&
\begin{minipage}{2.5cm}
\begin{minted}[]{python}
(a,b)=(b,a)
\end{minted}
\end{minipage}
\end{tabular}
\end{center}
\end{exercice}
\bigskip
 


\begin{exercice}De l'importance de l'indentation\\
On consid\` ere les deux algorithmes suivants :
\begin{center}
\begin{tabular}{cc}
\begin{minipage}{7cm}
\begin{minted}[frame=lines]{python}
if a>=5:
   a=a-2
if a<4:
   a=a+5      
\end{minted}
\end{minipage} &
\begin{minipage}{7cm}
\begin{minted}[frame=lines]{python}
if a>=5:
   a=a-2
   if a<4:
      a=a+5
\end{minted}        
\end{minipage}\\
Algorithme n°1&Algorithme n°2
\end{tabular}
\end{center}
Dans les deux cas, d\' eterminer la valeur finale de \verb?a? pour \verb?a? $= 0,\ 1,\ 2,\cdots 10$. 
\end{exercice}
\bigskip


\begin{exercice}
Quelle est la diff\' erence entre les deux fonctions suivantes ? D\' eterminer une valeur $a$ telle que $f(a)\neq g(a)$.
\begin{center}
\begin{tabular}{cc}
\begin{minipage}{7cm}
\begin{minted}[frame=lines]{python}
def f(a):
    if a<-10:
         b=a-2
    elif a>15:
         b=2*a
    else :
         b=a  
    return(b)    
\end{minted}
\end{minipage} &
\begin{minipage}{7cm}
\begin{minted}[frame=lines]{python}
def g(a):
     if a<-10:
          b=a-2
     if a>15:
          b=2*a
     else :
          b=a  
     return(b)
\end{minted}        
\end{minipage}
\end{tabular}
\end{center}
\end{exercice}
\bigskip



\begin{exercice}
Soit $f\colon\mathbb{R}\to \mathbb{R}$ la fonction d\' efinie par :
\[\begin{array}{ccccc}
f\colon  & x & \longmapsto & \left\lbrace\begin{array}{ll}
      2x & \text{ si } x\leq 0\\
      x+1 & \text{ si } 0<x\leq 1\\
      x^2 & \text{ si } x>1\\
      \end{array}\right.
\end{array}\]
\begin{enumerate}
\item Programmer la fonction $f$ en utilisant \verb?if?, \verb?elif?, \verb?else?.
\item Programmer \` a nouveau la fonction $f$ sans utiliser \verb?elif? mais en utilisant deux tests \verb?if? imbriqu\' es. \\
On commencera par faire l'organigramme correspondant. 
\end{enumerate}
\end{exercice}
\bigskip


\begin{exercice}
Dans le programme ci-dessous, \verb?a? et \verb?b? sont des entiers positifs.
\begin{minted}[frame=lines]{python}
while a>=b:
   a=a-b
\end{minted}
\begin{enumerate}
\item Partant de \verb?a=17? et \verb?b=4?, notez \` a chaque \' etape la valeur de \verb?a? et de \verb?b?. Quelle est la valeur finale de \verb?a? ?
\item En g\' en\' eral, que vaut \verb?a? à la fin du programme ?
\end{enumerate} 
\end{exercice}
\bigskip


\begin{rappel}
Lorsqu'on travaille avec des entiers naturels, la fonction \verb?a//b? renvoie le quotient de la division euclidienne de \verb?a? par \verb?b? et \verb?a%b? renvoie le reste de cette division euclidienne.
\end{rappel}
\bigskip



\begin{exercice}\label{exercice boucle for} Premi\` eres boucles for.\\ 
Recopier le programme suivant et ex\' ecuter-le.
\begin{minted}[frame=lines]{python}
for i in range(10):
   print(i)
\end{minted}
\begin{enumerate}
\item Modifier le programme pour qu'il affiche les nombres de 0 \` a 20 inclus.
\item Modifier le programme pour qu'il affiche les nombres de 0 \` a 20 dans l'ordre d\' ecroissant.
\item \label{nombres pairs} Modifier le programme pour qu'il affiche les nombres de 0 \` a 20 qui sont pairs. 
\end{enumerate} 
\end{exercice}
\bigskip

\begin{remark}
Sous l'environnement Spyder, vous pouvez obtenir des informations sur un objet Python. \\
Par exemple, taper \verb?range? dans l'\' editeur ou la console. S\' electionner-le puis taper \textbf{Ctrl i}. Dans la fen\^ etre en haut \`  a droite, il apparait une documentation (en anglais) sur la fonction, ainsi que les diff\' erentes variables dont elle d\' epend.\\
Une autre m\' ethode : l'aide appara\^ it automatiquement apr\` es la saisie d'une parenth\` ese gauche apr\` es un objet.
\end{remark}


\begin{exercice}
Que fait \verb?range(2,40,3)? ?\\
Refaites la question \ref{nombres pairs} de l'exercice \ref{exercice boucle for} en utilisant la fonction \verb?range? avec trois param\` etres.
\end{exercice}
\bigskip



\begin{exercice}Premiers termes d'une suite.\\
On consid\` ere le programme suivant :
\begin{minted}[frame=lines]{python}
u=0
for i in range(10):
   u=2*u+3
\end{minted}
\begin{enumerate}
\item Faire tourner le programme.
\item Le programme calcule les dix premiers termes d'une suite d\' efinie par r\' ecurrence. Modifier le programme pour qu'il affiche tous les termes calcul\' es.
\item Compl\' eter la d\' efinition de la suite :
\[\left\lbrace\begin{array}{l}
u_0=...\\
u_{n+1}=...
\end{array}\right.\]
%\item Modifier le programme pour qu'il affiche $u_{20}$.
\item On consid\` ere maintenant la suite de Fibonacci d\' efinie par :
\[\left\lbrace\begin{array}{l}
F_0=0\\
F_1=1\\
\forall n\in\mathbb{N}, \quad F_{n+2}=F_{n+1}+F_n
\end{array}\right.\]
Ecrire un programme qui permet de calculer les dix premiers termes de la suite $(F_n)_{n\in\mathbb{N}}$. 
\end{enumerate}
\end{exercice}
\bigskip


\newpage

\begin{exercice}
Dans cet exercice, \verb?n? est une variable déjà initialisée, entière. Que fait le programme suivant :
\begin{minted}[frame=lines]{python}
while n>0:
    r=n%10
    n=n//10 
\end{minted}
Modifier le programme pour qu'il retourne la somme des chiffres d'un entier.
\end{exercice}
\bigskip







\begin{exercice}
On consid\` ere le programme suivant : 
\begin{minted}[linenos,frame=lines]{python}
import random

nombre=random.randrange(10)                     # la variable 'nombre' est un entier 
                                                # pris au hasard entre 0 et 9
essai=input('entrer une valeur entre 0 et 9 ')  # la variable 'essai' est un nombre 
                                                # entré par l'utilisateur
while essai!=nombre:
   essai=input('entrer une nouvelle valeur ')
print('Vous avez gagné')	
\end{minted}
\begin{enumerate}
\item Recopier le programme dans un fichier Python (sans les commentaires)
\item Que fait le programme ?
\item Modifier le programme pour qu'il affiche le nombre d'essais qui ont \' et\' e n\' ecessaires pour trouver le nombre.
\end{enumerate}
\end{exercice}
\bigskip






\begin{exercice}
Voici deux programmes. \verb?n? est une variable entière, déjà initialisée. L'un des deux compte le nombre de diviseurs positifs de \verb?n?. Ce nombre est stock\' e dans la variable \verb?p?. Que fait l'autre algorithme ?
\begin{center}
\begin{tabular}{cc}
\begin{minipage}{7cm}
\begin{minted}[linenos,frame=lines]{python}
p=0
k=1
while k<=n :
   if n%k == 0 :
      p = p+1
   k = k+1    
\end{minted}
\end{minipage}\hspace{1cm} 
&
\begin{minipage}{7cm}
\begin{minted}[linenos,frame=lines]{python}
p=0
k=1
if n%k == 0 :
   while k<=n :
      k = k+1  
   p=p+1   
\end{minted}
\end{minipage}\\
Algorithme n°1 & Algorithme n°2
\end{tabular}
\end{center}
\end{exercice}
\bigskip



\begin{exercice}Crible d'Eratosth\` ene.\\
Le crible d'Eratosth\` ene est un algorithme qui \' etant donn\' e un entier $n$ renvoie les nombres premiers compris entre 2 et $n$. Il fonctionne de la mani\` ere suivante :
\begin{itemize}
\item on inscrit tous les entiers entre 2 et $n$.
\item 2 est premier. On stocke cette valeur et on \' elimine tous les multiples de 2.
\item on prend le premier entier qui vient apr\` es 2 qui n'a pas \' et\' e \' elimin\' e : c'est 3. On stocke cette valeur et  on \' elimine tous les multiples de 3.
\item on r\' eit\` ere l'op\' eration jusqu' \` a $n$.
\end{itemize}
\begin{enumerate}
\item Testez l'algorithme \` a la main pour d\' eterminer les nombres premiers entre 2 et 14.
\item En Python, l'algorithme est cod\' e par le programme suivant. La liste \verb?premier? contient la réponse. 
\newpage
\begin{minted}[linenos,frame=lines]{python}
premiers=[] 
nombres = []
for i in range(2,n+1):
	nombres.append(True)    
# nombres=[True,True,...] 
#On y stockera l'information suivante : 
#True : le nombre est premier, False : il ne l'est pas
for i in range(2,n+1):              # i parcourt les entiers de 2 à n      
	if nombres[i-2]==True:         
		premiers.append(i)  
# si i est marqué comme True,
# c'est un nombre premier : on le stocke dans la liste 'premier'  		      
		for j in range(2*i,n+1,i): 
			nombres[j-2] = False   
# les multiples de i qui sont compris entre 2i et n   
# sont alors marqués comme False			
\end{minted}
\item V\' erifier que l'algorithme donne les m\^ emes valeurs que celles calcul\' ees en 1) pour \verb?n?=14.
\item Dans cet algorithme, \verb?i? parcourt tous les entiers entre 2 et $n$. Or, si $i$ n'est pas premier, alors l'un de ces facteurs est au moins inf\' erieur \` a $\sqrt{n}$\footnote{On suppose que $i\leq n$ n'est pas premier. Il se d\' ecompose en $i=pq$. Si $p> \sqrt{n}$ et $q>\sqrt{n}$, alors $i>n$. On d\' epasse alors $n$.}. Donc, dans l'algorithme, \` a partir de \verb?i?$=\sqrt{n}$ (ou plut\^ ot l'entier directement sup\' erieur \` a $\sqrt{n}$), les nombres non premiers sont d\' ej\` a marqu\' es \verb?False?.  \\
Modifier le programme pour qu'il affiche encore les nombres premiers inf\' erieurs \` a $n$ mais en \' evitant que \verb?i? parcourt les entiers sup\' erieurs \` a $\sqrt{n}$.
\end{enumerate}
\end{exercice}



\ifdef{\public}{\end{document}}{}

\newpage 

\begin{center}
{\Large\bf Correction TP \no {\num} -- \descrip}
\end{center}


\begin{solution}
\begin{enumerate}
\item \verb?a=3? et \verb?b=3?
\item message d'erreur : ne peut pas assigner avec un op\' erateur
\item message d'erreur : \verb?x? n'est pas d\' efinie
\item \verb?a=3? et \verb?b=2?. On a \' echang\' e les valeurs.
\item \verb?a=3? et \verb?b=2?. On a \' echang\' e les valeurs.
\end{enumerate}
\end{solution}
\bigskip

\begin{solution}
Algorithme n°1 :
\[\begin{array}{l|c|c|c|c|c|c|c|c|c|c|c|c|c|}
\text{Valeur initiale de }a&0&1&2&3&4&5&6&7&8&9&10 \\\hline
\text{Valeur finale de }a&5&6&7&8&4&8&4&5&6&7&8
\end{array}\]
Algorithme n°2 :
\[\begin{array}{l|c|c|c|c|c|c|c|c|c|c|c|c|c|}
\text{Valeur initiale de }a&0&1&2&3&4&5&6&7&8&9&10 \\\hline
\text{Valeur finale de }a&0&1&2&3&4&8&4&5&6&7&8
\end{array}\]
\end{solution}
\bigskip

\begin{solution}
Dans le premier cas, le test \verb?else? est v\' erifi\' e pour \verb?a? qui n'est ni dans $]-\infty,-10[$, ni dans $]15,+\infty[$. Donc, \verb?a? v\' erifie ce test pour $a\in[-10,15]$.\\
Dans le deuxi\` eme cas, \verb?else? est le contraire du dernier \verb?if?, donc le test est v\' erifi\' e pour \verb?a? qui n'est pas dans $]15,+\infty[$. Donc, \verb?a? v\' erifie ce test pour $a\in]-\infty,15]$.\\
Par exemple, $f(-11)$ renvoie -13 mais $g(-11)$ renvoie -11.
\end{solution}
\bigskip


\begin{solution}
\begin{enumerate}
\item ~\\
\vspace{-0.7cm}
\begin{minted}[frame=lines]{python}
def f(x):
    if x <= 0 :
        y = 2*x
    elif x > 0 and x <= 1 :
        y = x+1
    else :     
        y = x**2
    return(y)   
\end{minted}
D'autres solutions sont possibles, comme :
\begin{minted}[frame=lines]{python}
def f(x):
    if x <= 0 :
        y = 2*x
    elif x > 1 :
        y = x**2
    else :     
        y = x+1
    return(y)   
\end{minted}
\item 
\begin{minted}[frame=lines]{python}
def f(x):
    if x<=0 :
        y = 2*x
    else :    
        if x <= 1 :
            y = x+1
         else :
            y = x**2
    return(y)   
\end{minted}
\end{enumerate}
\end{solution}
\bigskip


\begin{solution}
\begin{enumerate}
\item 
\begin{tabular}{c|c|c|c|c|c|c|c|}
Etape &  1 &2&3 &4 &\\
\hline
Valeur de \verb?a?  avant  & 17 & 13 & 9 & 5 &1\\
Le crit\` ere est-il v\' erifi\' e ? & oui & oui & oui & oui & non \\
Valeur de \verb?a? apr\` es & 13 & 9 & 5 & 1 
\end{tabular}\\
La valeur finale de \verb?a? est 1.
\item \verb?a%b?
\end{enumerate} 
\end{solution}
\bigskip


\begin{solution}
\begin{enumerate}
\item ~\\
\vspace{-0.7cm}
\begin{minted}[frame=lines]{python}
for i in range(21):
   print(i)
\end{minted}
\item 
\begin{minted}[frame=lines]{python}
for i in range(21):
   print(20-i)
\end{minted}
 \item 
\begin{minted}[frame=lines]{python}
for i in range(11):
   print(2*i)
\end{minted}
\end{enumerate} 
\end{solution}
 \bigskip
 

 \begin{solution}~\\
 \vspace{-1cm}
 \begin{minted}[frame=lines]{python}
for i in range(0,21,2):
   print(i)
\end{minted}
\end{solution}
\bigskip


\begin{solution}
\begin{enumerate}
\item .
\item \begin{minted}[frame=lines]{python}
u=0
for i in range(9):
   u=2*u+3
\end{minted}
\item 
$\left\lbrace\begin{array}{l}
u_0=0\\
u_{n+1}=2u_n+3
\end{array}\right.$
%\item Modifier le programme pour qu'il affiche $u_{20}$.
\item 
\begin{minted}[frame=lines]{python}
u=0
v=1
for i in range(10):
   (u,v)=(v,u+v)
print(v)	
\end{minted}
\end{enumerate}
\end{solution}
\bigskip


\begin{solution}
Le programme affiche les chiffres du nombre \verb?n?.
\begin{minted}[linenos,frame=lines]{python}
s=0               # on initialise la somme a zero
while n>0:
    r=n%10        # r est le dernier chiffre de n
    s=s+r         # on ajoute r a la somme        
    n=n//10       # on recommence avec n auquel on a retiré le dernier chiffre
\end{minted}
\end{solution}


\newpage


\begin{solution}~\\
\vspace{-1cm}
\begin{minted}[linenos,frame=lines]{python}
import random

nombre=random.randrange(10)                     # la variable 'nombre' est un entier 
                                                # pris au hasard entre 0 et 9
compteur=1                                      # on initialise le compteur a 1              
essai=input('entrer une valeur entre 0 et 9 ')  # la variable 'essai' est un nombre 
                                                # entré par l'utilisateur
while essai!=nombre:
   essai=input('entrer une nouvelle valeur ')
   compteur=compteur+1                          # a chaque coups, compteur augmente de 1
print('Vous avez gagné en ',compteur,' coups')	
\end{minted}
\end{solution}
\bigskip


\begin{solution}
Le premier programme compte le nombre de diviseurs de $n$.
\begin{minted}[linenos,frame=lines]{python}
p=0
k=1                          # k va parcourir tous les entiers de 1 a n
while k<=n :                 # pour k <=n     
   if n%k == 0 :             # si k divise n,
      p = p+1                # on ajoute 1 aux nombres de diviseurs de k
   k = k+1                   # on passe a l'entier suivant 
\end{minted}
Le deuxi\` eme programme renvoie 1 :
\begin{minted}[linenos,frame=lines]{python}
p=0
k=1
if n%k == 0 :       # k=1, donc k verifie la condition
   while k<=n :     # tant que k<n
      k = k+1       # k augmente de 1
   p=p+1            # on sort de la boucle while. p augmente de 1, il vaut maintenant 0+1
\end{minted}
\end{solution}
\bigskip


\begin{solution}
\begin{enumerate}
\item Nombres premiers entre 2 et 14 :\\
$2, 3, \underline{4},5,\underline{6},7,\underline{8},\underline{9},\underline{10},11,\underline{12},13,\underline{14}$. 
\item \begin{minted}[linenos,frame=lines]{python}
n=100
premiers=[]
nombres = []
N=int(sqrt(n))+1                   # N est l'entier strictement superieur à racine de n

for i in range(2,n+1):
    nombres.append(True)           # nombres=[True,True,...] : on y stocke l'information 
                                   # True : le nombre est premier ou False : il ne l'est pas
for i in range(2,N+1):             # i parcourt les entiers de 2 à N
    if nombres[i-2]==True:         # si i n'est pas False, 
        premiers.append(i)         # c'est un nombre premier, on le stocke dans la liste
        for j in range(2*i,n+1,i): # les multiples de i entre 2i et n
            nombres[j-2] = False   # sont alors marqués comme False
                                   
            
for i in range(N+1,n+1):           # on ajoute a la liste 'premiers' les nombres superieurs a 
    if nombres[i-2]==True:         # N qui sont marqués True   
        premiers.append(i)             
print(premiers)
\end{minted}
\end{enumerate}
\end{solution}












\end{document}
\section{GNA : Reste}

%\begin{exercice}Test ==\\
%La variable \verb?a? est un entier. Selon les valeurs initiales de \verb?a?, donner les valeurs finales de \verb?a?.
%\begin{minted}[frame=lines]{python}
%if a==3:
%   a=a+2
%if a+3==4:
%   a=a+1   
%\end{minted}
%\end{exercice}
%\bigskip
%
%\begin{solution}
%Si $a=3$, la valeur finale de $a$ est 5.\\
%Si $a=1$, la valeur finale de $a$ est 2.\\
%Sinon, la valeur de $a$ n'est pas modifi\' e.  
%\end{solution}


\begin{exercice}
La variable \verb?n? est un entier. Pr\' ecisez selon les valeurs de \verb?n? la valeur finale de \verb?x? apr\` es ex\' ecution du programme :
\begin{minted}[linenos,frame=lines]{python}
if n==5:
   x=2*n
   x=x+1
elif n>=6:
   x=2*n
   if n%2==0:
      x=n//2
   else :
      x=(n+1)//2         
else :
      x=n**2
\end{minted}
\end{exercice}
\bigskip

\begin{solution}
\begin{tabular}{l|l|l|l|l|l|l|l|l|l|l|l}
valeur de \verb?n? &0&1&2&3&4&5&6&7&8&pair $\geq 6$ &impair $\geq\ 6$ \\ \hline
valeur finale de \verb?x? & 0&1&4&9&16&11&3&4&4&n/2&(n+1)/2
\end{tabular}
\end{solution}

